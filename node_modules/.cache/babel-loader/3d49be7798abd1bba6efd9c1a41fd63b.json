{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/katia/OneDrive/\\xC1rea de Trabalho/Lorran/weather-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/katia/OneDrive/\\xC1rea de Trabalho/Lorran/weather-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\katia\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\Lorran\\\\weather-app\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import\"./Local.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Local=function Local(){var apiKey=\"749d030bb028567c6df26b3941472ec9\";var _useState=useState(false),_useState2=_slicedToArray(_useState,2),location=_useState2[0],setLocation=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),weather=_useState4[0],setWeather=_useState4[1];var today=new Date();var hour=today.getHours();var getWeather=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(lat,long){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://api.openweathermap.org/data/2.5/weather\",{params:{lat:lat,lon:long,appid:apiKey,lang:\"pt\",units:\"metric\"}});case 2:res=_context.sent;setWeather(res.data);console.log(res.data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getWeather(_x,_x2){return _ref.apply(this,arguments);};}();useEffect(function(){navigator.geolocation.getCurrentPosition(function(position){getWeather(position.coords.latitude,position.coords.longitude);setLocation(true);});},[]);useEffect(function(){if(hour>=6&&hour<16){document.body.style.backgroundImage=\"url('../img/dia.png')\";document.body.style.color=\"black\";}else if(hour>=16&&hour<18){document.body.style.backgroundImage=\"url('../img/por-do-sol.png')\";}else{document.body.style.backgroundImage=\"url('../img/noite.png')\";document.body.style.color=\"white\";}},[hour]);if(location===false){return/*#__PURE__*/_jsx(\"div\",{className:\"lugar text-center\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"cidade\",children:\"Voc\\xEA precisar\\xE1 habilitar a localiza\\xE7\\xE3o para utilizar o app!\"})});}else if(weather===false){/*#__PURE__*/_jsx(\"div\",{className:\"lugar text-center\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"cidade\",children:\"Carregando clima...\"})});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"lugar text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"cidade\",children:weather[\"name\"]}),/*#__PURE__*/_jsxs(\"h1\",{className:\"temperatura\",children:[weather[\"main\"][\"temp\"],\"\\xBAC\"]})]});}};export default Local;","map":{"version":3,"names":["axios","React","useEffect","useState","Local","apiKey","location","setLocation","weather","setWeather","today","Date","hour","getHours","getWeather","lat","long","get","params","lon","appid","lang","units","res","data","console","log","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","document","body","style","backgroundImage","color"],"sources":["C:/Users/katia/OneDrive/Área de Trabalho/Lorran/weather-app/src/Components/Local/Local.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nimport \"./Local.css\";\r\n\r\nconst Local = () => {\r\n  const apiKey = \"749d030bb028567c6df26b3941472ec9\";\r\n\r\n  const [location, setLocation] = useState(false);\r\n\r\n  const [weather, setWeather] = useState(false);\r\n\r\n  const today = new Date();\r\n  const hour = today.getHours();\r\n\r\n  let getWeather = async (lat, long) => {\r\n    let res = await axios.get(\r\n      `https://api.openweathermap.org/data/2.5/weather`,\r\n      {\r\n        params: {\r\n          lat: lat,\r\n          lon: long,\r\n          appid: apiKey,\r\n          lang: \"pt\",\r\n          units: \"metric\",\r\n        },\r\n      }\r\n    );\r\n    setWeather(res.data);\r\n    console.log(res.data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    navigator.geolocation.getCurrentPosition((position) => {\r\n      getWeather(position.coords.latitude, position.coords.longitude);\r\n      setLocation(true);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (hour >= 6 && hour < 16) {\r\n      document.body.style.backgroundImage = \"url('../img/dia.png')\";\r\n      document.body.style.color = \"black\";\r\n    } else if (hour >= 16 && hour < 18) {\r\n      document.body.style.backgroundImage = \"url('../img/por-do-sol.png')\";\r\n    } else {\r\n      document.body.style.backgroundImage = \"url('../img/noite.png')\";\r\n      document.body.style.color = \"white\";\r\n    }\r\n  }, [hour]);\r\n  if (location === false) {\r\n    return (\r\n      <div className=\"lugar text-center\">\r\n        <h1 className=\"cidade\">\r\n          Você precisará habilitar a localização para utilizar o app!\r\n        </h1>\r\n      </div>\r\n    );\r\n  } else if (weather === false) {\r\n    <div className=\"lugar text-center\">\r\n      <h1 className=\"cidade\">Carregando clima...</h1>\r\n    </div>;\r\n  } else {\r\n    return (\r\n      <div className=\"lugar text-center\">\r\n        <h2 className=\"cidade\">{weather[\"name\"]}</h2>\r\n\r\n        <h1 className=\"temperatura\">{weather[\"main\"][\"temp\"]}ºC</h1>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Local;\r\n"],"mappings":"0cAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,MAAO,aAAP,C,wFAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClB,GAAMC,CAAAA,MAAM,CAAG,kCAAf,CAEA,cAAgCF,QAAQ,CAAC,KAAD,CAAxC,wCAAOG,QAAP,eAAiBC,WAAjB,eAEA,eAA8BJ,QAAQ,CAAC,KAAD,CAAtC,yCAAOK,OAAP,eAAgBC,UAAhB,eAEA,GAAMC,CAAAA,KAAK,CAAG,GAAIC,CAAAA,IAAJ,EAAd,CACA,GAAMC,CAAAA,IAAI,CAAGF,KAAK,CAACG,QAAN,EAAb,CAEA,GAAIC,CAAAA,UAAU,0FAAG,iBAAOC,GAAP,CAAYC,IAAZ,gJACChB,CAAAA,KAAK,CAACiB,GAAN,mDAEd,CACEC,MAAM,CAAE,CACNH,GAAG,CAAEA,GADC,CAENI,GAAG,CAAEH,IAFC,CAGNI,KAAK,CAAEf,MAHD,CAINgB,IAAI,CAAE,IAJA,CAKNC,KAAK,CAAE,QALD,CADV,CAFc,CADD,QACXC,GADW,eAafd,UAAU,CAACc,GAAG,CAACC,IAAL,CAAV,CACAC,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACC,IAAhB,EAde,sDAAH,kBAAVV,CAAAA,UAAU,gDAAd,CAiBAZ,SAAS,CAAC,UAAM,CACdyB,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyC,SAACC,QAAD,CAAc,CACrDhB,UAAU,CAACgB,QAAQ,CAACC,MAAT,CAAgBC,QAAjB,CAA2BF,QAAQ,CAACC,MAAT,CAAgBE,SAA3C,CAAV,CACA1B,WAAW,CAAC,IAAD,CAAX,CACD,CAHD,EAID,CALQ,CAKN,EALM,CAAT,CAOAL,SAAS,CAAC,UAAM,CACd,GAAIU,IAAI,EAAI,CAAR,EAAaA,IAAI,CAAG,EAAxB,CAA4B,CAC1BsB,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBC,eAApB,CAAsC,uBAAtC,CACAH,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBE,KAApB,CAA4B,OAA5B,CACD,CAHD,IAGO,IAAI1B,IAAI,EAAI,EAAR,EAAcA,IAAI,CAAG,EAAzB,CAA6B,CAClCsB,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBC,eAApB,CAAsC,8BAAtC,CACD,CAFM,IAEA,CACLH,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBC,eAApB,CAAsC,yBAAtC,CACAH,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBE,KAApB,CAA4B,OAA5B,CACD,CACF,CAVQ,CAUN,CAAC1B,IAAD,CAVM,CAAT,CAWA,GAAIN,QAAQ,GAAK,KAAjB,CAAwB,CACtB,mBACE,YAAK,SAAS,CAAC,mBAAf,uBACE,WAAI,SAAS,CAAC,QAAd,qFADF,EADF,CAOD,CARD,IAQO,IAAIE,OAAO,GAAK,KAAhB,CAAuB,CAC5B,yBAAK,SAAS,CAAC,mBAAf,uBACE,WAAI,SAAS,CAAC,QAAd,iCADF,GAGD,CAJM,IAIA,CACL,mBACE,aAAK,SAAS,CAAC,mBAAf,wBACE,WAAI,SAAS,CAAC,QAAd,UAAwBA,OAAO,CAAC,MAAD,CAA/B,EADF,cAGE,YAAI,SAAS,CAAC,aAAd,WAA6BA,OAAO,CAAC,MAAD,CAAP,CAAgB,MAAhB,CAA7B,WAHF,GADF,CAOD,CACF,CAlED,CAoEA,cAAeJ,CAAAA,KAAf"},"metadata":{},"sourceType":"module"}